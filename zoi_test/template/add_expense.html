<h1>Add Expense</h1>

{% if messages %}
    {% for message in messages %}
        <div style="padding: 10px; margin: 10px 0; border-radius: 4px;">
            {{ message }}
        </div>
    {% endfor %}
{% endif %}

<form method="post">
    {% csrf_token %}
    <p>
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required>
    </p>
    <p>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" required>
    </p>
    <p>
        <label for="category_id">Category:</label>
        <select id="category_id" name="category_id" required>
            <option value="">Select a category</option>
            {% for category in categories %}
                <option value="{{ category.id }}">{{ category.name }}</option>
            {% endfor %}
        </select>
    </p>
    <p>
        <label for="date">Date:</label>
        <input type="date" id="date" name="date" required>
    </p>
    <button type="submit">Add Expense</button>
</form>

<h2>Recent Expenses</h2>
{% if expenses %}
    <table border="1">
        <tr>
            <th>Title</th>
            <th>Amount</th>
            <th>Category</th>
            <th>Date</th>
        </tr>
        {% for expense in expenses %}
            <tr>
                <td>{{ expense.title }}</td>
                <td>${{ expense.amount }}</td>
                <td>{{ expense.category.name }}</td>
                <td>{{ expense.date }}</td>
            </tr>
        {% endfor %}
    </table>
{% else %}
    <p>No expenses yet.</p>
{% endif %}

<p><a href="/categories/add/">Add Category</a> | <a href="/expenses/summary/">View Summary</a></p>